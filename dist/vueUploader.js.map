{"version":3,"file":"vueUploader.js","sources":["../src/ctrl.js","../src/func.js","../src/uploader.js","../src/props.js","../node_modules/_style-inject@0.3.0@style-inject/dist/style-inject.es.js","../node_modules/_lodash.throttle@4.1.1@lodash.throttle/index.js","../src/images/add.png","../src/images/ok.png","../src/images/loader.svg","../src/baseView.js","../src/imageUploader/main.js","../src/images/video.png","../src/videoUploader/main.js"],"sourcesContent":["// https://github.com/jeromeetienne/microevent.js\nexport default class Ctrl{\n  constructor(){\n    this.counter = 0\n  }\n  on(event, fct){\n    this._events = this._events || {}\n    this._events[event] = this._events[event] || []\n    this._events[event].push(fct)\n  }\n  off(event, fct){\n    this._events = this._events || {}\n    if (event in this._events === false) return\n    this._events[event].splice(this._events[event].indexOf(fct), 1)\n  }\n  trigger(event /* , args... */){\n    this._events = this._events || {}\n    if (event in this._events === false) return\n    for (var i = 0; i < this._events[event].length; i++){\n      this._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1))\n    }\n  }\n}\n","// 文件上传状态\nconst isDebug = false\n\nlet counter = 0\n\nexport default {\n  UPLOAD_STATUS: {\n    WAIT: 0,\n    UPLOAD_ING: 1,\n    SUCESS: 2,\n    FAILED: 3\n  },\n  log(info){\n    if (isDebug){\n      console.trace(info)\n    }\n  },\n  uuid(){\n    var uuid = 'file-' + counter\n    counter++\n    return uuid\n  },\n  queryIndex(key, value, list){\n    for (var i = 0; i < list.length; i++){\n      if (typeof value === 'function'){\n        if (value(list[i])){\n          return i\n        }\n      } else {\n        if (list[i][key] === value){\n          return i\n        }\n      }\n    }\n  },\n  createObjectURL(){\n    return window.URL.createObjectURL.apply(this, arguments)\n  },\n  where(key, value, list){\n    var arr = []\n    for (var i = 0; i < list.length; i++){\n      if (typeof value === 'function'){\n        if (value(list[i])){\n          arr.push(list[i])\n        }\n      } else {\n        if (list[i][key] === value){\n          arr.push(list[i])\n        }\n      }\n    }\n    return arr\n  }\n}\n","import Ctrl from './ctrl'\nimport func from './func'\nconst { where, uuid, UPLOAD_STATUS, log, createObjectURL } = func\n\n/**\n * @version 0.1.1 上传组件\n */\nexport default class Uploader extends Ctrl{\n  constructor(options){\n    super()\n    var self = this\n    self._files = []\n    self._queue = []\n    self.queueIndex = 0\n    var defaultOptions = {\n      uploadUrl: '',\n      // 最多选择数量，默认为0不限制\n      maxSize: 0,\n      // 同时上传的最多数量\n      uploadFileMax: 5,\n      // 向后台传递的参数\n      param: {},\n      fileParamName: 'file',\n      timeout: 60 * 5,\n      // 只接受类型或者正则\n      /**\n       * @example\n       * accept:['jpg','png','bmp','gif','jpeg']\n       */\n      accept: [],\n      // 是否有预览图\n      thumb: false,\n      // 默认不压缩\n      compress: false\n    }\n    if (!options.uploadUrl){\n      throw Error('上传地址不能为空')\n    }\n    // 浅拷贝，对象属性会覆盖而不是合并\n    self.options = Object.assign({}, defaultOptions, options)\n  }\n\n  /**\n     * 上传\n     */\n  upload(){\n    var self = this\n    var options = self.options\n\n    if(self.haveUploading()){\n      log('正在上传，请等待')\n      return false\n    }\n    const files = self._files\n    const queue = []\n    // 上传的时候将上传失败的文件设置为等待\n    files.forEach((item) => {\n      if (item.status === UPLOAD_STATUS.FAILED){\n        item.status = UPLOAD_STATUS.WAIT\n      }\n    })\n\n    for(let i = 0; i < files.length; i++){\n      const file = files[i]\n      if(file.status === UPLOAD_STATUS.WAIT){\n        file.index = i\n        queue.push(file)\n      }\n    }\n    self._queue = queue\n    var len = Math.min(options.uploadFileMax, queue.length)\n    for (var i = 0; i < len; i++){\n      self._upload()\n    }\n  }\n  _upload(){\n    var self = this\n    const file = self._queue[self.queueIndex]\n    self.queueIndex++\n    if(typeof file === 'undefined'){\n      log('已经上传到最后')\n      return false\n    }\n    var options = self.options\n    const xhr = new XMLHttpRequest()\n    // 超时\n    console.log(options.timeout)\n    xhr.timeout = options.timeout * 1000\n    const formData = new FormData()\n    formData.append(options.fileParamName, file.source)\n    for (var key in options.param){\n      formData.append(key, options.param[key])\n    }\n\n    file.status = UPLOAD_STATUS.UPLOAD_ING\n    xhr.onload = function(){\n      if (xhr.status < 200 || xhr.status >= 300){\n        log(xhr.status)\n        self.onFail(file)\n        if(options.onError){\n          return options.onError(xhr)\n        }else{\n          return false\n        }\n      }\n\n      let json = {}\n      // 不要将onSuccess或者onError包括道try中\n      // 避免回调函数中报错触发catch\n      try {\n        json = JSON.parse(xhr.responseText)\n        if (json.success){\n          self.onSuccess(file, json)\n        } else {\n          self.onFail(file)\n        }\n      } catch (e){\n        // 返回的不是json格式\n        self.onFail(file)\n      }\n    }\n    function onNetError(){\n      self.onFail(file)\n    }\n    xhr.onabort = onNetError\n    // 无网络等原因导致错误\n    xhr.onerror = onNetError\n    // 请求超时\n    xhr.ontimeout = onNetError\n    function updateProgress(event){\n      console.log(event.loaded)\n      var complete = (event.loaded / event.total * 100 | 0)\n      file.percent = complete\n      self.trigger('progress', file)\n    }\n    if(options.showProgress){\n      xhr.upload.onprogress = updateProgress\n    }\n    // progress事件需要注册在open之前，否则无响应\n    xhr.open('post', options.uploadUrl)\n    xhr.send(formData)\n  }\n  // 是否正在上传\n  haveUploading(){\n    var self = this\n    let haveUploading = false\n    for(const item of self._files){\n      if(item.status === UPLOAD_STATUS.UPLOAD_ING){\n        haveUploading = true\n        break\n      }\n    }\n    return haveUploading\n  }\n  onEnd(file){\n    var self = this\n    self._upload()\n    // 所有的文件都执行完毕，未必都成功\n    if (!self.haveUploading()){\n      let _flag = true\n      self.queueIndex = 0\n      self._files.forEach((item) => {\n        if (item.status === UPLOAD_STATUS.FAILED){\n          _flag = false\n          return false\n        }\n      })\n      self.trigger('finish', _flag)\n    }\n  }\n  onSuccess(file, json){\n    var self = this\n    file.status = UPLOAD_STATUS.SUCESS\n    file.returnJson = json\n    self.trigger('uploadSuccess', file)\n    self.onEnd(file)\n  }\n  onFail(file){\n    var self = this\n    file.status = UPLOAD_STATUS.FAILED\n    self.trigger('uploadFail', file)\n    self.onEnd(file)\n  }\n  addFile(sourceFile){\n    var self = this\n    var options = self.options\n    var ext = sourceFile.name.split('.').pop().toLowerCase()\n    if (options.accept.indexOf(ext) < 0){\n      options.onAcceptError({\n        name: sourceFile.name,\n        ext: ext\n      })\n      return false\n    }\n    var file = {\n      source: sourceFile,\n      id: uuid(),\n      status: UPLOAD_STATUS.WAIT,\n      thumb: '',\n      name: sourceFile.name,\n      size: sourceFile.size\n    }\n\n    self._files.push(file)\n    if (options.thumb){\n      if (options.compress){\n        self._makeThumb(file)\n      } else {\n        file.thumb = createObjectURL(sourceFile)\n      }\n    }\n  }\n  removeFile(file){\n    var targetIndex = -1\n    this._files.forEach((item, index) => {\n      if (item.id === file.id){\n        targetIndex = index\n      }\n    })\n    this._files.splice(targetIndex, 1)\n  }\n  _makeThumb(file){\n    this.makeThumb(file.source, (thumbUrl) => {\n      file.thumb = thumbUrl\n    })\n  }\n  makeThumb(sourceFile, callback){\n    var thumbOptions = this.options.thumb\n    var blob_url = createObjectURL(sourceFile)\n    var temp_image = new Image()\n    var canvas = document.createElement('canvas')\n    var preview_width = thumbOptions.width\n    var preview_height = thumbOptions.height\n    temp_image.src = blob_url\n    canvas.width = preview_width\n    canvas.height = preview_height\n    var ctx = canvas.getContext('2d')\n    temp_image.onload = function(){\n      ctx.drawImage(temp_image, 0, 0, preview_width, preview_height)\n      // 清空原来的BLOB对象，释放内存。\n      window.URL.revokeObjectURL(this.src)\n      // 耗时操作\n      var blob_image_url = canvas.toDataURL('image/jpeg')\n      callback(blob_image_url)\n      // 切除引用关系\n      // delete temp_image;\n      // delete canvas;\n      // delete ctx;\n      this.src = null\n      canvas = null\n      ctx = null\n      temp_image.onload = null\n      temp_image = null\n    }\n  }\n  stop(){\n\n  }\n\n  getFiles(){\n    return this._files\n  }\n  /**\n   * 将上传队列清空\n   */\n  clear(){\n    //\n    this._files = []\n  }\n}\n\n","export default{\n  accept: {\n    type: Array,\n    default: function(){\n      return ['jpg', 'png', 'gif', 'bmp', 'jpeg']\n    }\n  },\n  fileAccept: {\n    default: 'image/jpg,image/jpeg,image/png,image/gif'\n  },\n  show: {\n    default: false,\n    type: Boolean\n  },\n  url: {\n    type: String,\n    required: true\n  },\n  showProgress: {\n    default: false,\n    type: Boolean\n  },\n  zIndex: {\n    default: 999,\n    type: Number\n  },\n  uploadConfig: {\n    default: function(){\n      return {\n        timeout: 120\n      }\n    },\n    type: Object\n  },\n  /**\n   * 是否可拖拽\n   */\n  draggable: {\n    default: true,\n    type: Boolean\n  },\n  /**\n   * 当前功能只适用图片上传\n   * 额外参数，会在底部增加 checkbox 选项\n   * [\n   *     {\n   *      label:'原图',\n   *      key:'original'\n   *     },\n   *     {\n   *      label:'加水印',\n   *      key:'watermark',\n   *      checked:true\n   *     }\n   * ]\n   */\n  extraParams: {\n    default(){\n      return []\n    },\n    type: Array\n  },\n  /**\n   * 转换原始的 extraParams变成后台可以使用的参数\n   * 可以自己实现，默认使用 item.key 并传回 1 或 0\n   *\n   */\n  extraParamsConvertFunction: {\n    default(extraParams){\n      const realParams = {}\n      extraParams.forEach(param => {\n        realParams[param.key] = param.checked ? 1 : 0\n      })\n      return realParams\n    },\n    type: Function\n  }\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","var img = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABLCAIAAAB7tddWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1Q0VBNzA0MjEyMDUxMUUzODk2Q0JFM0Q1RjE4QkExQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1Q0VBNzA0MzEyMDUxMUUzODk2Q0JFM0Q1RjE4QkExQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAzNDA2MkY1MTIwMzExRTM4OTZDQkUzRDVGMThCQTFDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAzNDA2MkY2MTIwMzExRTM4OTZDQkUzRDVGMThCQTFDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+K6izdgAAAvpJREFUeNrsnFmPqkAQhWmX667gEp9c/v+/MkSDG+4LrvdcSYgRbw/0ALZQ9WBUJOn+uqvqHGCG3e93hUJRUoSAQBAIAkEgCASBIBAE4neRicEcII51Xb/dbnjPGOt0OqlUKok7ApN3jIKwY6DUIBAEgkAQCALho/X47TeXy8U0TcuyrtdrZKPs9/v2m8FgINYgf9QX/gTV+Xw2DCNKBJKmxmKxsAVc0kEcDgfyGq8CNp/Pa5qWy+WiHG6v13v7/XPt6Ha7Al5D3HQ1Go1sNkvtU8lkMsmtESSoCASBSFqEW/DQ0tbr9W63O51OKK6FQkFV1XQ6nSwQ0OOTyQSvjknZbDaA0mq1QCQafSFFasxmM4eCE1Do0+lUQrcSFggsPhzq20NgsVqtkpIax+MxMs+C/aXruvMxaonND75J9W5hUWWxuYAVdRfTg8EplUphGJywQPAFuBd5Dlhw/aDwwgVtCDgCdzph1QisG+dosVjkn44WYxjGC4XnvBuNRtvt9gtA2Hv47SGsZKVS4ef8eDzG4vMVCrpSgEU3xPbZbDar1erLl1AQ7XabU8xAAXvB3XffBnIHwkR2QcUYq9fr5XIZOxkTg6BEkeNLKdQF7AWPFBy1AoUmu8RG/HmE91nxM+J/ORIr07VcLvf7feCt+stAQGIBRNJtOJolDAhdj/hXGj5+u+TzIKAF+MbkK00XFta2BhDRUE0/9gv8Elogbu4TBW8+nyPhHSeuaVqtVuNQC6TzyQUCXsg0TbfyAxfIKogr9ynP1GJyYQZ57qbg7AuIRfclKZwSlDqWBQSmxM9zFALYh+fFBwJJSkNgqeFxSrAPw+EQ9QJew7Is2Sj8FgSW2nu1gylYPkKRMsRTA+4IcjA2fxsnDkLOq/IfACFP54uP1yAQBIJAEIh4gWCPkHk+GJ7AjU/fICJ+qlIghEfoDwQMtRjvyLYDRih4rsDT+bBM9tP5kuhrzN++e6SqqvCdYUb/SIO6BoEgEASCQBAIAkEgCEQg8VeAAQAB1bbO2qoeewAAAABJRU5ErkJggg==\";\n  export default img;","var img = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAABjklEQVRIx+WW0XWDMAxFGaEjELBNPzNCRugIjJAR2KBsYG/QEcoGZYN0A7qB8kTt1qGmKQG7H/E5+gHjK8nSQ1l2LyvX9CAMPQtNx6TgUlNdGhoAp6TwnSZTMhQmYY+aDsnBSeGlBSeHz4FHw/3HLi5yJj1TbJqaWO2056r2o3bQqHDbx29z6VbOCU1tjHS3PnQOXmnqNgVDOA4hsJjcuS04szW8n6Za/IR+IDtPi6O68r4RV6LGno5r4s9QeLrnAoINcx/iec7v5QxY3JLmAuJf2kPlL+2BgzvpgQLgekm75IC+BlplmO5lmfTvdC34uAOkCPSpChyGbPQqUM2LwHyfuaEXGAFORUAax/40dPLSXStfOG6N2KUbZnILL7zI1Tf862AIxXsIvkq92An8gzs/cnXpwInvurLOVDHEY6x2iIIIOAAbHNjT635T1Rr7HA7IgD77xnsWCchaB+SlesWbTJwDU80WMQeD6XQivP4vPyPus1TLjUeuFXlqSTr8cxdYcJP9xwK4jVLdd7POILTdaydHp4QAAAAASUVORK5CYII=\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg width='42px' height='42px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid' class='uil-default'%3e%3crect x='0' y='0' width='100' height='100' fill='none' class='bk'%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(0 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(30 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.08333333333333333s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(60 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.16666666666666666s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(90 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.25s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(120 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.3333333333333333s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(150 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.4166666666666667s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(180 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.5s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(210 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.5833333333333334s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(240 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.6666666666666666s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(270 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.75s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(300 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.8333333333333334s' repeatCount='indefinite'/%3e%3c/rect%3e%3crect x='47' y='40' width='6' height='20' rx='3' ry='3' fill='%237d7d7d' transform='rotate(330 50 50) translate(0 -30)'%3e %3canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.9166666666666666s' repeatCount='indefinite'/%3e%3c/rect%3e%3c/svg%3e\";\n  export default img;","import func from './func'\nimport styles from './uploader.scss'\nimport throttle from 'lodash.throttle'\nimport addPic from './images/add.png'\nimport okPic from './images/ok.png'\nimport loaderSvg from './images/loader.svg'\n\nconst { log } = func\nexport default {\n  data(){\n    return {\n      showDialog: false,\n      styles: styles,\n      pic: {\n        addPic,\n        okPic,\n        loaderSvg\n      },\n      files: [],\n      uploadSuccessNum: 0,\n      boxWidth: 0,\n      uploadFinish: true,\n      showPanelMask: false,\n      maskText: '',\n      thumb: true\n    }\n  },\n\n  watch: {\n    show: 'onShowChange',\n    files(newVal){\n      let num = 0\n      newVal.forEach((item) => {\n        if (item.returnJson && item.returnJson.success){\n          num++\n        }\n      })\n      log('files update')\n      this.uploadSuccessNum = num\n    }\n  },\n  beforeDestroy(){\n    const $el = this.$el\n    $el.removeEventListener('mousemove', this._DocListeners.onDocumentMove)\n    $el.removeEventListener('mouseup', this._DocListeners.onDocumentMouseUp)\n    window.removeEventListener('resize', this._DocListeners.onDocumentResize)\n    $el.removeEventListener('blur', this._DocListeners.onDocumentResize)\n  },\n  mounted(){\n    const ctrl = this\n    if(ctrl.draggable){\n      ctrl.initDragAndResize()\n    }\n    // 初始化show，如果show默认是true，需要执行一遍\n    ctrl.onShowChange(ctrl.show)\n  },\n  methods: {\n    initDragAndResize(){\n      const ctrl = this\n      const $el = ctrl.$el\n      function inSafeArea(x, y){\n        return (x >= 0 && x < window.innerWidth && y >= 0 && y < window.innerHeight)\n      }\n\n      // 节流提高效率\n      const onDocumentMove = throttle(function(e){\n        const dialog = ctrl.$refs.dialog\n        const pageX = e.pageX\n        const pageY = e.pageY\n        const delaX = e.pageX - ctrl.beforeX\n        const delaY = e.pageY - ctrl.beforeY\n        const beforeTop = parseFloat(dialog.style.top)\n        const beforeLeft = parseFloat(dialog.style.left)\n\n        if(ctrl.startDrag && inSafeArea(pageX, pageY)){\n          dialog.style.top = ctrl.safeTop((beforeTop + delaY), dialog)\n          dialog.style.left = ctrl.safeLeft((beforeLeft + delaX), dialog)\n        }\n        if(ctrl.startResize && inSafeArea(pageX, pageY)){\n          // if(Math.abs(delaY) < 5 || Math.abs(delaX) < 5){\n          //   return\n          // }\n          const beforeHeight = parseFloat(dialog.offsetHeight)\n          const beforeWidth = parseFloat(dialog.offsetWidth)\n          let newHeight = beforeHeight\n          let newWidth = beforeWidth\n          if(ctrl.resizeDirect === 'w'){\n            newWidth = (beforeWidth + delaX)\n          }else if(ctrl.resizeDirect === 'e'){\n            newWidth = (beforeWidth - delaX)\n            dialog.style.left = ctrl.safeLeft(beforeLeft + delaX, dialog)\n          }else if(ctrl.resizeDirect === 'n'){\n            newHeight = (beforeHeight - delaY)\n            dialog.style.top = ctrl.safeLeft(beforeTop + delaY, dialog)\n          }else if(ctrl.resizeDirect === 's'){\n            newHeight = (beforeHeight + delaY)\n          }else{\n            newHeight = (beforeHeight + delaY)\n            newWidth = (beforeWidth + delaX)\n          }\n\n          dialog.style.width = newWidth + 'px'\n          dialog.style.height = newHeight + 'px'\n        }\n        ctrl.beforeX = pageX\n        ctrl.beforeY = pageY\n      }, 16)// 16~20毫秒保证动画流畅\n      function onDocumentMouseUp(){\n        const dialog = ctrl.$refs.dialog\n        ctrl.startDrag = false\n        ctrl.startResize = false\n        dialog.style.userSelect = 'auto'\n      }\n      function onDocumentResize(){\n        const dialog = ctrl.$refs.dialog\n\n        if(dialog){\n          ctrl.computeDialogStyle(dialog)\n        }\n      }\n      $el.addEventListener('mousemove', onDocumentMove)\n      $el.addEventListener('mouseup', onDocumentMouseUp)\n      window.addEventListener('resize', onDocumentResize)\n      // 右键或者超出视图等情况导致拖拽逻辑异常，增加blur修复bug\n      $el.addEventListener('blur', onDocumentMouseUp)\n      ctrl._DocListeners = {\n        onDocumentMove,\n        onDocumentMouseUp,\n        onDocumentResize\n      }\n    },\n    onShowChange(newVal){\n      const ctrl = this\n      // 当打开的时候\n      if (newVal){\n        // 禁止body滚动\n        document.body.style.overflow = 'hidden'\n        ctrl.files = ctrl._uploader.getFiles()\n        document.addEventListener('keydown', ctrl.onEsc, false)\n      }else{\n        // 保证隐藏的时候drag逻辑不执行\n        ctrl._DocListeners.onDocumentMouseUp()\n        document.removeEventListener('keydown', ctrl.onEsc, false)\n      }\n      if(newVal){\n        const dialog = this.$refs.dialog\n        dialog.style.width = 600 + 'px'\n        dialog.style.height = 500 + 'px'\n        ctrl.computeDialogStyle(dialog, 600, 500)\n        ctrl.showDialog = true\n      }else{\n        ctrl.showDialog = false\n      }\n    },\n    getDragDirection(pageX, pageY, dialog){\n      const top = parseFloat(dialog.style.top)\n      const left = parseFloat(dialog.style.left)\n      const bottom = top - dialog.clientHeight\n      const right = left + dialog.clinetWidth\n      if(pageX < bottom + 5 && pageX > bottom - 5){\n        if(pageY < right + 5 && pageY > right - 5){\n          return 2\n        }\n      }\n    },\n\n    onEsc(e){\n      if(e.keyCode === 27){\n        this.close()\n      }\n    },\n    selectFile: function(e){\n      var files = e.target.files\n      var self = this\n      for (var i = 0; i < files.length; i++){\n        var file = files[i]\n        self._uploader.addFile(file)\n      }\n      // 避免vue不更新\n      self.files = self._uploader.getFiles()\n    },\n    /**\n     * 上传页面\n     */\n    up: function(){\n      const ctrl = this\n      // 没有需要选择的图片\n      if (this.files.length - this.uploadSuccessNum > 0){\n        if (this.uploadFinish){\n          ctrl.uploadFinish = false\n          ctrl._uploader.options.param = ctrl.extraParamsConvertFunction(ctrl.extraParams)\n          ctrl._uploader.upload()\n        }\n      } else {\n        alert('请选择图片')\n      }\n    },\n    mask(text){\n      this.showPanelMask = true\n      if (text){\n        this.maskText = text\n      }\n    },\n    del: function(file){\n      this._uploader.removeFile(file)\n      this.files = this._uploader.getFiles()\n    },\n    addFile(){\n      this.$refs.fileInput.value = null\n      this.$refs.fileInput.click()\n    },\n    closeDialog(){\n      this.showPanelMask = false\n      this.maskText = ''\n    },\n    close(cancel){\n      const me = this\n      var files = []\n      var isAllFinish = true\n      if (!cancel){\n        me.files.forEach((item) => {\n          if (item.returnJson && item.returnJson.success){\n            files.push(item.returnJson)\n          } else {\n            isAllFinish = false\n            return false\n          }\n        })\n      }\n      if (!isAllFinish){\n        me.mask('有未上传文件')\n        return false\n      }\n\n      // 不再禁止滚动\n      document.body.style.overflow = ''\n      me.$emit('finish', files)\n      me.files = []\n      // 上传状态\n      me.uploadFinish = true\n      me.uploadSuccessNum = 0\n      me._uploader.clear()\n    },\n    percentStyle(file){\n      return {\n        width: file.percent + '%'\n      }\n    },\n    safeTop(top, dialog){\n      return (Math.min(Math.max(top, 0), window.innerHeight - dialog.clientHeight)) + 'px'\n    },\n\n    safeLeft(left, dialog){\n      return (Math.min(Math.max(left, 0), window.innerWidth - dialog.clientWidth)) + 'px'\n    },\n    computeDialogStyle(dialog, width, height){\n      width = width || dialog.clientWidth\n      height = height || dialog.clientHeight\n      const left = (window.innerWidth - width) / 2\n      const top = (window.innerHeight - height) / 2\n      dialog.style.left = this.safeLeft(left, dialog)\n      dialog.style.top = this.safeTop(top, dialog)\n    },\n    onHeaderMouseUp(e){},\n    onHeaderMouseDown(e){\n      const ctrl = this\n      ctrl.beforeX = e.pageX\n      ctrl.beforeY = e.pageY\n      ctrl.$refs.dialog.style.userSelect = 'none'\n      setTimeout(function(){\n        ctrl.startDrag = true\n      }, 50)\n    },\n    /**\n     * resizeStart\n     * @param e\n     */\n    onResizeHandlerMouseDown(e, direct){\n      const ctrl = this\n      ctrl.beforeX = e.pageX\n      ctrl.beforeY = e.pageY\n      ctrl.resizeDirect = direct\n      ctrl.$refs.dialog.style.userSelect = 'none'\n      setTimeout(function(){\n        ctrl.startResize = true\n      }, 100)\n    },\n    /**\n     * 当单击额外参数的时候\n     * @param param\n     * @param index\n     */\n    onParamClick(param, index){\n      param.checked = !param.checked\n      this.$set(this.extraParams, index, param)\n    }\n\n  }\n}\n","import Uploader from '../uploader'\nimport props from '../props'\nimport baseView from '../baseView'\nimport template from './index.html'\n\n/**\n *\n *  vue的图片上传组件\n *\n */\n\nexport default {\n  name: 'imageUploader',\n  template: template,\n  mixins: [baseView],\n  props: props,\n  created(){\n    var ctrl = this\n    ctrl.$style = this.styles\n    var uploader = new Uploader(Object.assign({}, {\n      uploadUrl: ctrl.url,\n      accept: ctrl.accept,\n      showProgress: ctrl.showProgress,\n      thumb: true,\n      onAcceptError: function(e){\n        alert(e.ext + '类型文件不符合要求')\n      }\n    }, ctrl.uploadConfig))\n    ctrl._uploader = uploader\n    uploader.on('finish', function(success){\n      ctrl.files = ctrl.files.concat()\n      ctrl.uploadFinish = true\n    })\n    uploader.on('progress', (file) => {\n      // let newFile=Object.assign({},file)\n      ctrl.files.splice(file.index, 1, file)\n    })\n  }\n}\n","var img = \"data:image/png;base64,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\";\n  export default img;","import Uploader from '../uploader'\nimport props from '../props'\nimport baseView from '../baseView'\nimport template from './index.html'\nimport styles from '../uploader.scss'\nimport addPic from '../images/add.png'\nimport okPic from '../images/ok.png'\nimport loaderSvg from '../images/loader.svg'\nimport videoPic from '../images/video.png'\n\nconst newProps = Object.assign({}, props, {\n  accept: {\n    type: Array,\n    default: function(){\n      return ['flv', 'mkv', 'avi', 'rm', 'rmvb', 'mpeg', 'mpg',\n        'ogg', 'ogv', 'mov', 'wmv', 'mp4', 'webm', 'mp3', 'wav']\n    }\n  },\n  fileAccept: {\n    default: '*'\n  },\n  uploadConfig: {\n    default: function(){\n      return{\n        // 三十分钟等待\n        timeout: 30 * 60\n      }\n    },\n    type: Object\n  }\n})\n/**\n *\n *  视频上传组件\n *\n */\n\nexport default {\n  name: 'videoUploader',\n  template: template,\n  props: newProps,\n  mixins: [baseView],\n  data(){\n    return {\n      showDialog: false,\n      pic: {\n        addPic,\n        okPic,\n        videoPic,\n        loaderSvg\n      },\n      styles: styles,\n      files: [],\n      uploadSuccessNum: 0,\n      boxWidth: 0,\n      uploadFinish: true,\n      maskText: '',\n      showPanelMask: false\n    }\n  },\n  created(){\n    var ctrl = this\n    ctrl.$style = this.styles\n    var uploader = new Uploader(Object.assign({}, {\n      uploadUrl: ctrl.url,\n      accept: ctrl.accept,\n      showProgress: ctrl.showProgress,\n      onAcceptError: function(e){\n        alert(e.ext + '类型文件不符合要求')\n      }\n    }, ctrl.uploadConfig))\n    ctrl._uploader = uploader\n    uploader.on('finish', function(success){\n      ctrl.files = ctrl.files.concat()\n      ctrl.uploadFinish = true\n    })\n    uploader.on('progress', (file) => {\n      // let newFile=Object.assign({},file)\n      ctrl.files.splice(file.index, 1, file)\n    })\n  }\n}\n\n"],"names":["Ctrl","counter","event","fct","_events","push","splice","indexOf","i","length","apply","Array","prototype","slice","call","arguments","UPLOAD_STATUS","WAIT","UPLOAD_ING","SUCESS","FAILED","log","info","uuid","queryIndex","key","value","list","createObjectURL","window","URL","where","arr","func","Uploader","options","self","_files","_queue","queueIndex","defaultOptions","uploadUrl","maxSize","uploadFileMax","param","fileParamName","timeout","accept","thumb","compress","Error","Object","assign","haveUploading","files","queue","forEach","item","status","file","index","len","Math","min","_upload","xhr","XMLHttpRequest","console","formData","FormData","append","source","onload","onFail","onError","json","JSON","parse","responseText","success","onSuccess","e","onNetError","onabort","onerror","ontimeout","updateProgress","loaded","complete","total","percent","trigger","showProgress","upload","onprogress","open","send","_flag","returnJson","onEnd","sourceFile","ext","name","split","pop","toLowerCase","onAcceptError","id","size","_makeThumb","targetIndex","makeThumb","thumbUrl","callback","thumbOptions","blob_url","temp_image","Image","canvas","document","createElement","preview_width","width","preview_height","height","src","ctx","getContext","drawImage","revokeObjectURL","blob_image_url","toDataURL","type","fileAccept","show","Boolean","url","String","required","zIndex","Number","uploadConfig","draggable","extraParams","extraParamsConvertFunction","realParams","checked","Function","global","img","data","showDialog","styles","pic","addPic","okPic","loaderSvg","uploadSuccessNum","boxWidth","uploadFinish","showPanelMask","maskText","watch","newVal","num","beforeDestroy","$el","removeEventListener","_DocListeners","onDocumentMove","onDocumentMouseUp","onDocumentResize","mounted","ctrl","initDragAndResize","onShowChange","methods","inSafeArea","x","y","innerWidth","innerHeight","throttle","dialog","$refs","pageX","pageY","delaX","beforeX","delaY","beforeY","beforeTop","parseFloat","style","top","beforeLeft","left","startDrag","safeTop","safeLeft","startResize","beforeHeight","offsetHeight","beforeWidth","offsetWidth","newHeight","newWidth","resizeDirect","userSelect","computeDialogStyle","addEventListener","body","overflow","_uploader","getFiles","onEsc","getDragDirection","bottom","clientHeight","right","clinetWidth","keyCode","close","selectFile","target","addFile","up","alert","mask","text","del","removeFile","fileInput","click","closeDialog","cancel","me","isAllFinish","$emit","clear","percentStyle","max","clientWidth","onHeaderMouseUp","onHeaderMouseDown","setTimeout","onResizeHandlerMouseDown","direct","onParamClick","$set","template","mixins","baseView","props","created","$style","uploader","on","concat","newProps","videoPic"],"mappings":"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"}