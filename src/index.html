<div>
    <div class="mask" :style="{zIndex:zIndex}" v-show="show">
        <div class="panel">
            <h2>选择图片
                <span class="close" @click="close(true)">×</span>
            </h2>
            
            <div ref="frame" class="image-list">
                <template v-if="files.length===0">
                    <div class="place-holder">
                        <img @click="addFile" src="./images/add.png" alt="">
                        <div>
                            <button @click="addFile" class="btn">请添加图片</button>
                        </div>
                    </div>
                </template>
                <div class="image-item" v-for="file in files">
                    <div class="title">
                        <template v-if="file.status===2">
                            <span>上传成功</span>
                        </template>
                        <template v-if="file.status===3">
                            <span>上传失败</span>
                        </template>
                        <span style="float:right" @click="del(file)">删除</span>
                    </div>
                    <template v-if="file.status===1">
                        <img class="loader" src="./images/loader.svg" alt="">
                    </template>
                    <img :src="file.thumb" alt="" class="cover">
                    <div class="percent">
                        <div class="percent-inner" :style="percentStyle(file)"></div>
                    </div>
                </div>
            </div>
            <div class="bottom">
                <button class="btn" style="margin-right:15px;" @click="addFile()">添 加</button>
                <button class="btn" @click="up()">
                    <template v-if="uploadFailed">
                        继续上传
                    </template>
                    <template v-if="!uploadFailed">
                        上 传
                    </template>
                </button>
                <input ref="fileInput" :accept="fileAccept" style="display:none" type="file" @change="selectFile" multiple>
            </div>
        </div>
    </div>
</div>